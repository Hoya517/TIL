# 📘 TIL - Redis 데이터 타입 정리

> 작성일: 2026-02-25

------------------------------------------------------------------------

## 1. Redis 기본 개념 복습

Redis는 **Key - Value 기반 In-Memory NoSQL 데이터베이스**이다.

-   대부분의 명령은 Key를 기준으로 동작
-   존재하지 않는 Key에 명령을 사용하면 자동 생성
-   단, 다른 자료형 명령을 사용하면 오류 발생 가능

------------------------------------------------------------------------

## 2. String

가장 기본적인 자료형\
Java의 `Map<String, String>` 구조처럼 동작

### 주요 명령어

``` redis
SET key value
GET key
INCR key
DECR key
MSET key1 v1 key2 v2
MGET key1 key2
```

### 특징

-   최대 512MB까지 저장 가능
-   정수라면 바로 증가/감소 가능
-   문자열은 바이트 배열 → 이미지, 파일 등 저장 가능

### 활용 사례

-   조회수 증가
-   토큰 저장
-   캐시 데이터

------------------------------------------------------------------------

## 3. List

Linked List 구조

-   양 끝에서 삽입/삭제 효율적
-   스택/큐 형태로 활용 가능

### 주요 명령어

``` redis
LPUSH key value
RPUSH key value
LPOP key
RPOP key
LLEN key
LRANGE key start end
```

### 특징

-   중간 접근은 비효율적
-   LRANGE는 음수 인덱스 지원
-   start \> end → 빈 결과 반환

### 활용 사례

-   타임라인 (SNS)
-   최근 조회 목록
-   메시지 큐

------------------------------------------------------------------------

## 4. Set

중복 없는 집합\
순서 없음

### 주요 명령어

``` redis
SADD key value
SREM key value
SMEMBERS key
SISMEMBER key value
SCARD key
SINTER key1 key2
SUNION key1 key2
```

### 특징

-   중복 제거
-   존재 여부 확인 O(1)
-   교집합/합집합 지원

### 활용 사례

-   좋아요 사용자 목록
-   블랙리스트
-   중복 방문자 체크

------------------------------------------------------------------------

## 5. Hash

Field - Value 쌍으로 구성된 자료형

`Map<String, Map<String, String>>` 구조와 유사

### 주요 명령어

``` redis
HSET key field value
HGET key field
HMGET key field1 field2
HGETALL key
HKEYS key
HLEN key
```

### 특징

-   하나의 Key에 객체 형태 데이터 저장 가능
-   여러 Key로 나누기보다 Hash 사용 권장

### 활용 사례

-   사용자 정보 저장
-   장바구니 (상품 - 수량)

------------------------------------------------------------------------

## 6. Sorted Set (ZSet)

정렬된 집합

-   중복 불가
-   각 값에 score 존재
-   score 기준 정렬

### 주요 명령어

``` redis
ZADD key score value
ZINCRBY key increment value
ZRANGE key start end
ZREVRANGE key start end
ZRANK key value
ZREVRANK key value
```

### 활용 사례

-   실시간 랭킹
-   리더보드
-   Rate Limiter

------------------------------------------------------------------------

## 7. 공용 명령어

자료형과 관계없이 사용 가능

``` redis
DEL key
EXPIRE key seconds
EXPIRETIME key
KEYS *
FLUSHDB
```

### 주의사항

-   `KEYS *`는 운영 환경에서 사용 지양 (성능 문제)
-   `FLUSHDB`는 모든 데이터 삭제

------------------------------------------------------------------------

## 8. 오늘 배운 핵심 정리

-   Redis는 Key 기반으로 동작
-   자료형에 맞는 명령어를 사용해야 함
-   String, List, Set, Hash, Sorted Set은 실무에서 매우 중요
-   Sorted Set은 랭킹 기능에 최적화
-   Set은 존재 여부 확인 O(1) → 블랙리스트에 적합
-   Hash는 객체 저장에 가장 효율적

------------------------------------------------------------------------

## 📌 다음 고민할 것

-   각 자료형의 내부 자료구조는 무엇인가?
-   Big-O 시간복잡도는 어떻게 되는가?
-   실무에서 어떤 자료형을 가장 많이 사용하는가?
-   Spring Data Redis에서는 어떻게 매핑되는가?
